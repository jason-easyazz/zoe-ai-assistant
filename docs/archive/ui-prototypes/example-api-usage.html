<!DOCTYPE html>
<html>
<head>
    <title>Zoe API Usage Examples</title>
    <script src="/js/common.js"></script>
    <script src="/js/auth.js"></script>
</head>
<body>
    <h1>Proper API Usage in Zoe</h1>
    <div id="results"></div>
    
    <script>
        // CORRECT: Using relative URLs
        async function testAPIs() {
            try {
                // Example 1: Simple GET request
                const health = await fetch('/api/health');
                const healthData = await health.json();
                console.log('Health:', healthData);
                
                // Example 2: POST request using helper
                const chatResponse = await apiCall('/chat', {
                    method: 'POST',
                    body: JSON.stringify({
                        message: 'Hello Zoe!'
                    })
                });
                console.log('Chat:', chatResponse);
                
                // Example 3: Direct fetch with relative URL
                const events = await fetch('/api/events');
                const eventData = await events.json();
                console.log('Events:', eventData);
                
                document.getElementById('results').innerHTML = 
                    '<p>✅ All API calls working with relative URLs!</p>';
                    
            } catch (error) {
                document.getElementById('results').innerHTML = 
                    '<p>❌ Error: ' + error.message + '</p>';
            }
        }
        
        // Test on load
        window.onload = testAPIs;
    </script>
</body>
</html>
