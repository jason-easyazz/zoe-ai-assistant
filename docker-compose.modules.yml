# ============================================================
# AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY
# ============================================================
# This file is generated by tools/generate_module_compose.py
# Edit config/modules.yaml to enable/disable modules, then regenerate
# Generated: /home/zoe/assistant
# ============================================================

services:
  zoe-agent0:
    image: agent0ai/agent-zero:v0.9.7
    container_name: zoe-agent0
    ports:
    - 50001:80
    environment:
    - ALLOWED_ORIGINS=*://localhost:*,*://127.0.0.1:*,*://0.0.0.0:*,*://192.168.1.*:*
    volumes:
    - agent0-data:/app/data
    - agent0-memory:/app/memory
    - agent0-logs:/app/logs
    networks:
    - zoe-network
    restart: unless-stopped
  agent-zero-bridge:
    build: .
    container_name: agent-zero-bridge
    ports:
    - 8101:8101
    volumes:
    - .:/app
    - ../../data:/app/data
    environment:
    - PYTHONUNBUFFERED=1
    - AGENT_ZERO_URL=http://zoe-agent0:80
    - AGENT_ZERO_API_KEY=${AGENT_ZERO_API_KEY:-}
    - A0_PERSISTENT_RUNTIME_ID=${A0_PERSISTENT_RUNTIME_ID:-c13febd01bf518de389462d4d48b2285}
    - DATABASE_PATH=/app/data/zoe.db
    - SAFETY_MODE=${AGENT_ZERO_SAFETY_MODE:-grandma}
    networks:
    - zoe-network
    depends_on:
    - zoe-agent0
    restart: unless-stopped
    healthcheck:
      test:
      - CMD
      - curl
      - -f
      - http://localhost:8101/health
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 20s
networks:
  zoe-network:
    name: zoe-network
    external: true
volumes:
  agent0-data: null
  agent0-memory: null
  agent0-logs: null
